machine:
  java:
    version: oraclejdk8
  node:
    version: 5.5.0

general:
  branches:
    ignore:
      - gh-pages

dependencies:
  cache_directories:
    - "~/.npm"
    - "~/_opt"
    - "node_modules"

  override:
    # Cache Chrome
    - ./scripts/download-chrome.sh

    # Cache npm deps
    - npm install

    # Cache Selenium & ChromeDriver
    - ./dist/bin/chimp.js --path=bin # there are no tests in bin

test:
  override:
    - npm run testonly
